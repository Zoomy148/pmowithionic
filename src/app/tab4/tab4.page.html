<ion-header [translucent]="true">
  <ion-toolbar color = "primary">
    <ion-buttons slot="end">
      <ion-button>
        Аккаунт
      </ion-button>
    </ion-buttons>
    <ion-title>Проекты</ion-title>
  </ion-toolbar>
</ion-header>
<ion-toolbar>
  <ion-segment  (ionChange)="segmentChanged($event)">
    <ion-segment-button value="presale">
      <ion-label>Пресейл</ion-label>
    </ion-segment-button>
    <ion-segment-button value="commerce">
      <ion-label>Коммерция</ion-label>
    </ion-segment-button>
  </ion-segment>
</ion-toolbar>

<ion-content  *ngIf = "slotToShow === 'presale'" >
  <ion-grid>
    <ion-row>
      <ion-col size-md ="6" offset-md = "3">
        <ion-searchbar ></ion-searchbar>
        <ion-card #presale *ngFor="let row of presaleProjectData ">
          <ion-card-header>Пресейл</ion-card-header>
          <ion-card-content>
            <ion-list>
              <ion-item button (click) = "goToDetails(row.id)" color = "success">
                <ion-label>{{row.direction}}</ion-label>
              </ion-item>  
              <ion-item>
                <ion-label>Заказчик</ion-label>
                <ion-note slot="end" color="primary"><p>{{row.customer}}</p></ion-note>
              </ion-item>  
              <ion-item>
                <ion-label>Проект</ion-label>
                <ion-note slot="end" color="primary"><p>{{row.project}}</p></ion-note>
              </ion-item>  
              <ion-item>
                <ion-label>Ответственный за пресейл</ion-label>
                <ion-note slot="end" color="primary"><p>{{row.leader}}</p></ion-note>
              </ion-item> 
              <ion-item>
                <ion-label>Этап пресейла</ion-label>
                <ion-note slot="end" color="primary"><p>{{row.stage}}</p></ion-note>
              </ion-item> 
              <ion-item>
                <ion-label>Статус</ion-label>
                <ion-note slot="end" color="primary"><p>{{row.status}}</p></ion-note>
              </ion-item>  
            </ion-list>
          </ion-card-content>
        </ion-card>
      </ion-col>
    </ion-row>
  </ion-grid>
</ion-content>
<ion-content *ngIf = "slotToShow === 'commerce'" >
  <ion-grid>
    <ion-row>
      <ion-col size-md ="6" offset-md = "3">
        <ion-searchbar [(ngModel)] = "searchStr"></ion-searchbar>
        <ion-card *ngFor="let row of projectData | search: searchStr">
          <ion-card-header>Коммерция</ion-card-header>
          <ion-card-content>
            <ion-list>
              <ion-item button (click) = "goToCommercePage(row.id)" color = "success">
                <ion-label>{{row.name}}</ion-label>
              </ion-item>  
              <ion-item>
                <ion-label>Направление</ion-label>
                <ion-note slot="end" color="primary"><p>Направление 1</p></ion-note>
              </ion-item>  
              <ion-item>
                <ion-label>Руководитель</ion-label>
                <ion-note slot="end" color="primary"><p>{{row.leader}}</p></ion-note>
              </ion-item>  
              <ion-item>
                <ion-label>Активный этап</ion-label>
                <ion-note slot="end" color="primary"><p>Этап 1</p></ion-note>
              </ion-item> 
              <ion-item>
                <ion-label>Статус этапа</ion-label>
                <ion-note slot="end" color="primary"><p>Статус 1</p></ion-note>
              </ion-item>

              <ion-button expand = "full" color = "primary">Этап коммерции</ion-button>
            </ion-list>
            <hr>
          </ion-card-content>
        </ion-card>
      </ion-col>
    </ion-row>
  </ion-grid>
</ion-content>
